# test/fixtures/users.yml
#
# @see https://api.rubyonrails.org/classes/ActiveRecord/FixtureSet.html
#
# IDs are explicitly given here so that :effective_id can be assigned a fixed
# value in the database.  This allows AuthHelper#stored_auth_fetch to see the
# :developer entry as an administrator at load time (which allows a convenience
# "Sign in as" button to be generated for that user).
#
# NOTE: in the test harness use `rake emma:test:users` to extract saved access
#   tokens from the (local) production database User table in order to supply
#   them via the environment variables used below.

# =============================================================================
# Current existing users of interest
# =============================================================================

test_dso:
  id:           1
  email:        test_dso@virginia.edu
  first_name:   EMMA Automated
  last_name:    Test DSO
  access_token: <%= ENV['EMMADSO_TOKEN'] if BS_AUTH %>
  roles:
    - searcher
    - submitter
    - downloader

test_lib:
  id:           2
  email:        test_lib@virginia.edu
  first_name:   EMMA Automated
  last_name:    Test Librarian
  access_token: <%= ENV['EMMACOLLECTION_TOKEN'] if BS_AUTH %>
  roles:
    - searcher
    - submitter

test_adm:
  id:           10
  email:        test_adm@virginia.edu
  first_name:   EMMA Automated
  last_name:    Test Administrator
  effective_id: <%= 1 if BS_AUTH %>
  roles:
    - searcher
    - submitter
    - downloader
    - administrator

test_dev:
  id:           11
  email:        test_dev@virginia.edu
  first_name:   EMMA Automated
  last_name:    Test Developer
  effective_id: <%= 1 if BS_AUTH %>
  roles:
    - searcher
    - submitter
    - downloader
    - administrator
    - developer
