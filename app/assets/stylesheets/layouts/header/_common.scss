// app/assets/stylesheets/layouts/header/_common.scss

@use 'shared/variables'        as v;
@use 'shared/controls/buttons' as b;
@use 'shared/layouts/header'   as h;

//=============================================================================
// Placeholder classes
//=============================================================================

%header-section {
    display:        flex;
    flex-direction: row;
    width:          100%;
}

%header-search-section {

    @extend %header-section;

    max-width:        calc(#{v.$lg-width} - (2 * #{v.$page-padding-x}));
    background-color: inherit;

    @media #{v.$narrow-screen} {
        width:     100%;
        min-width: unset;
        max-width: unset;
    }
}

// noinspection CssReplaceWithShorthandSafely
%header-control-panel {

    padding:        0.5rem;
    padding-right:  0;
    border:         0.125rem dotted v.$root-rev-fg-color;
    border-radius:  0.75rem;

    @media #{v.$not-narrow-screen} {
        padding-bottom: 0.25rem;
    }
}

// For controls with a white background within the header.
%header-control-interior {
    * {
        color:     v.$root-fg-color;
        font-size: large;
    }
}

%header-button {

    @include b.link-button; // link-button;

    // noinspection SassScssResolvedByNameOnly
    @extend %control-button-base;

    // Needs to be heavier against a dark background.
    &:hover {
        box-shadow: 0 0 0.75rem 0.375rem v.$uva-accent-orange;
    }

    padding-left:     8px;
    padding-right:    8px;
    text-align:       center;
    color:            v.$uva-accent-blue;
    background-color: v.$panel-bg;
}

// Treat the including class as the top part of a visually enclosed header
// area which is actually comprised of individual enclosures, one per layout
// section.
%enclosure {

    margin: 0 auto;

    @media #{v.$wide-screen} {
        padding: h.$enclosure-padding-wide;
    }

    @media #{v.$medium-width} {
        padding: h.$enclosure-padding-medium;
    }

    @media #{v.$narrow-screen} {
        padding: h.$enclosure-padding-narrow;
    }
}

// Treat the including class as the top part of a visually enclosed header
// area which is actually comprised of individual enclosures, one per layout
// section.
%complete-shadow-enclosure {

    @extend %enclosure;

    border-radius: 1rem;
    border:        2px solid whitesmoke;

    $offset: 6px;
    $x:      $offset;
    $y:      $offset;
    $blur:   18px;
    $spread: 8px;
    $color:  rgba(v.$uva-accent-teal, 0.35);

    box-shadow:
         #{$x}  #{$y} $blur $spread $color,
        -#{$x}  #{$y} $blur $spread $color,
         #{$x} -#{$y} $blur $spread $color,
        -#{$x} -#{$y} $blur $spread $color;
}

// Treat the including class as the top part of a visually enclosed header
// area which is actually comprised of individual enclosures, one per layout
// section.
%top-shadow-enclosure {

    @extend %complete-shadow-enclosure;

    border-bottom-left-radius:  0;
    border-bottom-right-radius: 0;
    border-bottom:              none;
}

// Treat the including class as the bottom part of a visually enclosed header
// area which is actually comprised of individual enclosures, one per layout
// section.
%bottom-shadow-enclosure {

    @extend %complete-shadow-enclosure;

    border-top-left-radius:  0;
    border-top-right-radius: 0;
    border-top:              none;
}

//=============================================================================
// Page header.
//=============================================================================

// The <header> area of the page.
//
// noinspection CssReplaceWithShorthandSafely
.layout-header {

    position:        relative;
    z-index:         v.$z-raised;
    display:         flex;
    flex-direction:  column;
    justify-content: flex-start;
    margin:          0;
    margin-bottom:   -(v.$hcm-divider-width);
    padding:         0;
    border-bottom:   v.$hcm-divider-width solid v.$root-rev-bg-color;
    box-shadow:      0 0 1rem -0.25rem v.$root-rev-bg-color;

    @media #{v.$medium-width} {

        > :first-child {
            padding-top: var(--page-padding);
        }

        > :last-child {
            padding-bottom: var(--page-padding);
        }
    }
}
