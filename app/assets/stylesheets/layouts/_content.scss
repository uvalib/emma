// app/assets/stylesheets/layouts/_content.scss
//
// Classes related to generic page styles.

@use 'shared/variables' as v;

//=============================================================================
// Main content area.
//=============================================================================

// The <main> content area of the page.
.layout-content {

    margin:    v.$page-padding-y v.$page-padding-x;
    max-width: 100%;
    position:  relative;

    // Give a little extra clearance for the scroll bar.
    @media #{v.$not-wide-screen} {
        margin-right: calc(#{v.$page-padding-x} + #{v.$scroll-easement} );
        padding-top:  calc(#{v.$page-padding-y} / 2);
    }

    @media #{v.$narrow-screen} {
        padding-top:  v.$page-padding;
    }

    // If the skip-nav menu grows large enough, on certain screens (without
    // search filters) it may extend below the header even when it should be
    // hidden because it has "z-order: -1".  The <body> element can't be given
    // a z-order, but extending the coverage of this element bridges the gap so
    // that the long tail of the skip-nav menu is covered by its shadow.
    box-shadow: 0 0 0 v.$page-padding v.$root-bg-color;
}

// For the heading at the top of the content area.
.heading {

    display:     flex;
    align-items: center;
    margin:      v.$page-padding 0;
    word-break:  break-all;
    font-size:   xx-large;

    @media #{v.$not-wide-screen} {
        margin:     calc(2 * #{v.$page-padding}) auto;
        word-break: break-word;
    }
}

// For enclosing the actual heading in a line with other items.
.heading.container {

    display: grid;
    gap:     v.$flex-gap-y v.$flex-gap-x;
    grid-template-columns: [text] 1fr [logo] auto;

    > * {
        margin: auto 0;
    }

    .heading {
        word-break: break-word;
    }

    @media #{v.$wide-screen} {
        margin-top:    0;
        margin-bottom: 0;
    }

    @media #{v.$narrow-screen} {

        grid-template-columns: 1fr;

        > .heading {
            margin-top: 0;
        }

        > .repository {
            margin-top:   v.$flex-gap-y;
            margin-left:  auto;
            margin-right: auto;
        }
    }
}
