// app/assets/stylesheets/controllers/_member.scss

@use 'shared/variables'       as *;
@use 'shared/controls/panels' as panel;
@use 'shared/feature/model'   as model;

@use 'feature/model'          as model-classes;

//=============================================================================
// Member index page
//=============================================================================

// Member metadata label/value pairs for index listings.
// @see MemberDecorator#list_item
.member-list-item {

    @extend .model-list-item;

    //=========================================================================
    // Components
    //=========================================================================

    .value {
        &.field-Name {
            font-weight: bold;
        }
    }
}

// Zero or more .member-list-item elements.
.member-list {
    @extend .model-list;
}

//=============================================================================
// Member show page
//=============================================================================

// Member metadata values.
// @see MemberDecorator#details
.member-details {
    @extend .model-details;
}

// Member preference settings.
// @see file:app/views/member/_preferences.html.erb
.member-preferences {
    @extend .model-details;
}

// Member download history.
// @see MemberDecorator#history_list
// @see file:app/views/member/_history.html.erb
.member-history {

    display: block;
    margin:  $page-padding 0;

    .history-list {
        @include panel.toggle-panel;
    }

    .history-item {

        @include model.label-value-pairs;

        padding-top: 1rem;
        border-top:  1px solid gray;

        @media #{$wide-screen} {
            grid-template-columns: [label] 0.1fr [value] 1fr;
        }

        @media #{$medium-width} {
            grid-template-columns: [label] 0.2fr [value] 1fr;
        }

        &:last-of-type {
            padding-bottom: 1rem;
            border-bottom:  1px solid gray;
        }
    }
}

// Container for a .member-details and .member-preferences in a two-column
// format for wide screens.
// @see file:app/views/member/_details.html.erb
.member-container {

    @extend .model-container;

    //=========================================================================
    // Sections
    //=========================================================================

    .member-details {}

    .member-preferences {
        // Move the column up a bit so that the baseline of the heading matches
        // the baseline of the text on the left-hand side.
        @media #{$wide-screen} {
            margin-top: -0.5rem;
        }
    }
}

.member-container + .member-history {
    margin-top: 1rem;
}

// Special arrangement for "app/views/member/_details.html.erb" to give the
// "details column" a header that matches the "preferences column".
.account.list-heading {

    $member-details-gap: 3rem;

    margin-top:    4rem;
    margin-bottom: -$member-details-gap;

    & + .member-container .member-details {
        margin-top: $member-details-gap;
    }
}
