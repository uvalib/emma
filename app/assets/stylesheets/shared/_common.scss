// app/assets/stylesheets/shared/_common.scss

// @use 'shared/variables'; // TODO: SASS 4.0
// @use 'shared/lists';     // TODO: SASS 4.0

//=============================================================================
// Placeholder classes
//=============================================================================

// Make an actionable item (e.g. <a>) appear non-functional.
// NOTE: The link should also have attribute 'tabindex="-1"'.
%disabled {
    text-decoration: none;
    &:active { pointer-events:  none; }
    &:hover  { text-decoration: none; }
    &:focus  { outline:         none; }
}

// Counteract the effects of .sr-only (except for position and border).
%not-sr-only {
    width:       unset;
    height:      unset;
    padding:     unset;
    margin:      unset;
    white-space: unset;
    overflow:    unset;
    clip:        unset;
}

// An element that spans the entire width of the display.
//
// noinspection SassScssResolvedByNameOnly
%banner {

    display:          flex;
    flex-direction:   row;
    justify-content:  space-between;
    margin:           0;
    padding:          $page-padding-y $page-padding-x;
    color:            white;
    background-color: $header-bg;

    @media #{$browser-ie} {
        padding: $ie-page-padding-y $ie-page-padding-x;
    }

    * {
        margin: auto 0;
        color:  white;
    }

    a {

        text-decoration: none;

        &:hover {
            text-decoration: underline;
        }

        &:focus {
            outline: 2px dotted white;
        }
    }

    .disabled {
        color: lightgray;
    }
}

// A panel for highlighting content.
// noinspection SassScssResolvedByNameOnly
%panel {
    display:          block;
    padding:          0.5rem;
    background-color: $panel-bg;
    border:           2px solid $panel-accent;
    border-radius:    6px;
}

// A grouping of related controls into a single element.
%control-group {

    @extend %panel;

    display:     inline-flex;
    padding:     4px 8px;
    align-items: baseline;

    > * {
        display:     inline-flex;
        flex:        1 1 auto;
        align-items: baseline;
    }
}

// Make focus outline more easily seen.
// noinspection SassScssResolvedByNameOnly
%focus {
    outline:        2px solid $focus-accent;
    outline-offset: 2px;
}

//=============================================================================
// Common settings.
//=============================================================================

// Make focus outline more easily seen.
a:focus,
input:focus {
    @extend %focus;
}

// Include to remove an element from the display.
.hidden {
    display: none !important;
}

// Include to hide the contents of an element while maintaining the space it
// occupies on the display.
.invisible {
    visibility: hidden !important;
}

// Include to "de-activate" an active element like a button or link.
.disabled {
    @extend %disabled;
    cursor: default;
}

// Include to "de-activate" an active element because it is an invalid choice.
.forbidden {
    @extend %disabled;
    cursor: not-allowed;
}

// Include to make an element only visible to screen readers.
.sr-only {
    position: absolute;
    width:    1px;
    height:   1px;
    padding:  0;
    margin:   -1px;
    overflow: hidden;
    clip:     rect(0 0 0 0);
    border:   0;
    // Satisfy accessibility checks for contrast:
    color:            black;
    background-color: white;
}

//=============================================================================
// General layout.
//=============================================================================

body {
    margin:  0;
    padding: 0;
}

// The <main> content area of the page.
//
// noinspection SassScssResolvedByNameOnly
.layout-content {

    margin: 0 $page-padding-x;

    @media #{$browser-ie} {

        margin: 0 $ie-page-padding-x;

        > * {
            margin-left:  inherit;
            margin-right: inherit;
        }
    }
}

// For the heading at the top of the content area.
.heading {
    font-size: xx-large;
}
