<%# app/views/devise/registrations/new.html.erb -%>
<%-
  # Sign-up page.

  title ||= t('emma.user.registrations.new.label')

  unless modal?
    set_page_title(title)
    set_page_description(title)
    set_page_robots(:noindex, :nofollow)
  end

  form_opt = {
    as:  resource_name,
    url: registration_path(resource_name)
  }

  min_length   = @minimum_password_length
  min_length &&= t('emma.user.password.length', min: min_length)
  submit_label = t('emma.user.registrations.new.submit')

-%>

<h1 class="heading"><%= title -%></h1>

<%= form_for(resource, form_opt) do |f| %>

  <%= render 'devise/shared/error_messages', resource: resource %>

  <div class="field">
    <%= f.label       :email %><br/>
    <%= f.email_field :email, autofocus: true, autocomplete: 'email' %>
  </div>

  <div class="field">
    <%= f.label :password %>
    <%- if min_length -%>
      <em>(<%= min_length -%>)</em>
    <%- end -%>
    <br/>
    <%= f.password_field :password, autocomplete: 'new-password' %>
  </div>

  <div class="field">
    <%= f.label          :password_confirmation %><br/>
    <%= f.password_field :password_confirmation, autocomplete: 'new-password' %>
  </div>

  <div class="actions">
    <%= f.submit submit_label %>
  </div>

<%- end -%>

<%= render 'devise/shared/links' %>

<%-
  abort 'devise/registrations/new - This is not expected to be used'
-%>
