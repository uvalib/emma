<%# app/views/api/v2.html.erb -%>
<%-
  # Display of results from an individual API call.
  url = @path
  url += (@path.include?('?') ? '&' : '?') + @opt.to_param if @opt.present?
  values = {
    method: request.method,
    path:   @path,
    opt:    @opt.presence,
    url:    url,
  }

-%>
<table>
  <tbody>
    <%- values.each_pair do |k, v| -%>
      <tr>
        <th><%= k -%></th>
        <td><%= v.is_a?(String) ? v : v.inspect -%></td>
      </tr>
    <%- end -%>
  </tbody>
</table>
<br/>
<%= api_method(request.method, @path, @opt) %>
