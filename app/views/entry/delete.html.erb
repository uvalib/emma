<%# app/views/entry/delete.html.erb -%>
<%-
  # Prompt to remove an existing EMMA entry.

  view_debug(__FILE__)

  list  ||= @list
  recs    = list&.select { |e| e.is_a?(Entry) }
  dec     = EntriesDecorator.new(recs, list: list, **context)
  recs  ||= dec.object
  list  ||= recs

  title ||= dec.page_heading
  help  ||= dec.help_topic
  repo  ||= recs.first&.repository
  logo  ||= repository_source_logo(repo)

  unless modal?
    label = dec.page_meta_title(default: title)
    set_page_meta_title(label)
    set_page_description(title)
    set_page_robots(:noindex, :nofollow)
  end

-%>

<%= page_heading(title, help: help, logo: logo) %>
<%= page_description_section %>

<%- if list.blank? -%>

  <%= dec.items_menu %>

<%- else -%>

  <%- list.each_with_index do |item, idx| -%>
    <%= render 'entry/selected', item: item, row: idx %>
  <%- end -%>

  <%= page_directions_section %>
  <%#= dec.preview %>
  <%= dec.delete_form %>

<%- end -%>

<%= page_notes_section %>
<%= dec.action_list unless modal? %>
