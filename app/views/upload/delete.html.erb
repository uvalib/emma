<%# app/views/upload/delete.html.erb -%>
<%-
  # Prompt to remove an existing file entry.

  title ||= t('emma.upload.delete.title')
  force ||= @force
  list  ||= @list
  list    = Array.wrap(list)
  repo  ||= list.find { |e| break e.repository if e.is_a?(Upload) }
  logo  ||= repository_source_logo(repo)

  unless modal?
    set_page_title(title)
    set_page_description(title)
    set_page_robots(:noindex, :nofollow)
  end

-%>

<div class="heading container">
  <h1 class="heading"><%= title -%></h1>
  <%= logo %>
</div>
<%= upload_description %>

<%- if list.blank? -%>

  <%= render 'upload/select_entry' %>
  <%= upload_notes %>

<%- else -%>

  <%- list.each_with_index do |item, idx| -%>
    <%= render 'upload/selected', item: item, row: idx %>
  <%- end -%>

  <%= upload_directions %>
  <%= upload_delete_form(*list, force: force) %>
  <%= upload_preview %>

<%- end -%>

<%= upload_action_list unless modal? %>
