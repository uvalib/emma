<%# app/views/reading_list/_list.html.erb -%>
<%-
  # Edition list.
  list ||= []
  skip ||= nil

  skip = Array.wrap(skip)
  heading =
    unless skip.include?(:title)
      title ||= t('emma.reading_list.index.title')
      unless skip.include?(:count)
        count ||= list.size
        title += " (#{count})"
      end
      content_tag(:h2, h(title), class: 'list-heading')
    end
-%>

<%= heading %>

<%- if list.present? -%>
  <%- list.each_with_index do |item, idx| -%>
    <%= render 'reading_list/entry', index: idx, item: item %>
  <%- end -%>
<%- else -%>
  <%= render 'reading_list/entry', index: -1 %>
<%- end -%>
