<%# app/views/data/show.html.erb -%>
<%-
  # The contents of a database table.

  view_debug(__FILE__)

  item  ||= @item || []
  name  ||= @name

  help  ||= nil # %i[data show]
  title ||= t('emma.data.show.title', table: (name&.titleize || '???'))

  unless modal?
    label = t('emma.data.show.label', default: title)
    set_page_meta_title(label)
    set_page_description(title)
  end

  table   = "#{name.inspect} table" # TODO: I18n
  count   = positive(item.size - 1) || 0
  records = 'record'.pluralize(count) # TODO: I18n
  title   = "#{title} (#{table} - #{count} #{records})"

-%>

<%= page_heading(title, help: help) %>
<%= page_description_section %>

<%= page_directions_section %>
<%= render 'data/details', item: item, name: name %>

<%= page_notes_section %>
