<%# app/views/user/sessions/_synthetic.html.erb -%>
<%-
  # Developer-only short-cuts to sign in as a test user.

  return unless session_debug? || dev_client?

  view_debug(__FILE__)

  p_opt = { fast: Rails.env.test? }.compact_blank!
  links =
    stored_auth(true).keys.map { |id|
      user  = html_tag(:strong, id)
      label = get_sessions_label(:sign_in_as, user: user).html_safe
      path  = sign_in_as_path(id: id, **p_opt)
      [label, path]
    }

  link_opt = { class: 'sign-in-link', role: 'button' }
  link_opt[:'data-turbolinks'] = false

-%>

<%- links.each do |label, path| -%>
  <%= make_link(label, path, **link_opt) %>
<%- end -%>
