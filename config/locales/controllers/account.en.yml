# config/locales/controllers/account.en.yml
#
# User account controller pages

en:

  emma:

    account:

      unit:
        brief:          'account'
        long:           'user account'
      label:            'Users'
      title:            'EMMA User Accounts'
      tooltip:          'Show the EMMA user account database table'

      subsystem:
        database:       true

      # =======================================================================
      # Messages (overriding "en.emma.messages")
      # =======================================================================

      messages:

        success:        'EMMA user account was successfully %{actioned}.'
        failure:        'Could not %{action} EMMA user account: %{error}'

        failed:         'FAILED'

        self_create:    'You already have an EMMA account'
        self_delete:    'Cannot delete your own account'

        select:         'Select an EMMA user account'
        model_name:     'EMMA User Account'
        id_readonly:    'Cannot change the account identifier'

        ability:
          title:        'Authorization for user %{user}'
          column:       # In this order:
            model:      'Model'
            action:     'Action'
            status:     'Can perform?'

        details:
          title:        'Account Details'

      # =======================================================================
      # Search endpoint
      # =======================================================================

      search:           # TODO: ?
        action:         index

      # =======================================================================
      # Layout
      # =======================================================================

      search_type:

        like:
          name:         'Filter'
          label:        'Filter by account:'
          placeholder:  'Partial email or name...'

      search_bar:
        enabled:        [index]
        label:          'Account Filter'

      search_filters:
#       enabled:        [index]
        enabled:        false

        layout:
          - [sort, size, ~, ~]

      page_controls:
        label:          'Account Actions:'
        actions:
          - { controller: 'home', action: 'dashboard', label: 'Details' }
          - edit_current
          - list_org
          - list_all
#         - new
#         - edit_select
#         - delete_select

      # =======================================================================
      # Controls
      # =======================================================================

      action_links:

        new:
          label:        'Create %{an} new EMMA user account'

        edit:
          label:        'Modify %{an} existing EMMA user account'

        delete:
          label:        'Remove %{an} existing EMMA user account'

        list_all:
          label:        'List all EMMA user accounts'

        list_org:
          label:        'List EMMA user accounts'

      # =======================================================================
      # Fields
      # =======================================================================

      display_fields: # Overrides order of 'en.emma.account.record'
        - id
        - email
        - first_name
        - last_name
        - upload_count:   { label: 'Submissions' }
        - manifest_count: { label: 'Manifests' }
        - role
#       - org
        - org_id
        - preferred_email
        - phone
        - address
        - status
        - status_date
        - sign_in_count
        - current_sign_in_at
        - last_sign_in_at
        - current_sign_in_ip
        - last_sign_in_ip
        - updated_at
        - created_at
        - encrypted_password
        - remember_created_at
        - reset_password_sent_at
        - reset_password_token
        - provider:       { ignored: true }
        - effective_id:   { ignored: true }
        - access_token:   { ignored: true }
        - refresh_token:  { ignored: true }

      # =======================================================================
      # Pages
      # =======================================================================

      generic:
        label:          'Accounts'
        title:          'Accounts'
        tooltip:        '(A brief description of this operation)'
        description:    '(A more detailed description of this operation)'
        directions:     '(Brief guidance for using the operation form)'
        notes:          '(A more detailed description of this operation)'

        submit:         &GENERIC_SUBMIT
          label:        'Submit'
          if_enabled:
            tooltip:    'Proceed with this action'
          if_disabled:
            tooltip:    'Conditions have not yet been met to proceed'

        cancel:         &GENERIC_CANCEL
          label:        'CANCEL'
          if_enabled:
            tooltip:    'Do nothing and return to the previous screen'
          if_disabled:
            tooltip:    'Not able to cancel at this point'

#       success:        'EMMA user account was successfully %{actioned}.'
#       failure:        'Failed to %{action} EMMA user account: %{error}'

      # =======================================================================

      index:            &INDEX_ACTION
        label:          'List'
        title:          'EMMA User Accounts'
        tooltip:        'List records from the EMMA user database table'

        _endpoint:      true

      # =======================================================================

      list_all:
        <<:             *INDEX_ACTION
        label:          'List All'
        tooltip:        'List all EMMA user accounts'

      # =======================================================================

      list_org:
        <<:             *INDEX_ACTION
        label:          'Org List'
        title:          '%{name} EMMA User Accounts'
        tooltip:        'List the EMMA users associated with your organization'

      # =======================================================================

      show:             &SHOW_ACTION
        label:          'Account'
        title:          'EMMA User Account %{name}'
        tooltip:
          >-
          Account details from the EMMA user account database table

        _endpoint:      true

      # =======================================================================

      show_select:
        <<:             *SHOW_ACTION
        label:          'Show User'
        title:          'Show an EMMA User Account'

      # =======================================================================

      show_current:
        <<:             *SHOW_ACTION
        label:          'Details'
        title:          'Your EMMA User Account Information'
        tooltip:        'See details about your EMMA user account'

      # =======================================================================

      new:              &NEW_ACTION
        label:          'Add User'
        title:          'Create an EMMA User Account'
        tooltip:        'Create a new EMMA account in the user database'
        description:
          >-
          If the EMMA account is associated with an account authenticated via
          a remote authentication provider, sign-on is mediated by that
          provider.

          Otherwise a (local) EMMA account is authenticated through an
          encrypted password stored in the EMMA account database record.

        term:
          action:       'create'
          actioned:     'created'

        submit:
          <<:           *GENERIC_SUBMIT
          label:        'Create'
          if_enabled:
            tooltip:    'Create the new EMMA user account'
          if_disabled:
            tooltip:    'Required information is still needed'

        cancel:
          <<:           *GENERIC_CANCEL
          if_enabled:
            tooltip:    'Do not create this entry (or start over)'

        success:        'Created EMMA user account %{name}'
        failure:        'Could not create EMMA user account: %{error}'

        role:           manager
        _endpoint:      true

      # =======================================================================

      create:
        <<:             *NEW_ACTION

      # =======================================================================

      edit:             &EDIT_ACTION
        label:          'Edit User'
        title:          'Modify EMMA User Account %{name}'
        tooltip:        'Modify an existing EMMA account in the user database'
        description:
          >-
          You may change the local details of the EMMA account
          (whether it is a local EMMA account or one authenticated via a
          remote authentication provider).

          However, in either case, these changes are only to the EMMA account
          database record -- nothing will be (or can be) changed about account
          information maintained by the remote provider.

        term:
          action:       'update'
          actioned:     'updated'

        submit:
          <<:           *GENERIC_SUBMIT
          label:        'Update'
          if_enabled:
            tooltip:    'Modify this EMMA user account'
          if_disabled:
            tooltip:    'No valid changes have been made yet'

        cancel:
          <<:           *GENERIC_CANCEL
          if_enabled:
            tooltip:    'Discard these changes'

        success:        'Updated EMMA user account %{name}'
        failure:        'Could not update EMMA user account: %{error}'

        _endpoint:      true

      # =======================================================================

      edit_select:
        <<:             *EDIT_ACTION
        title:          'Modify an EMMA User Account'
        role:           manager

      # =======================================================================

      edit_current:
        <<:             *EDIT_ACTION
        label:          'Modify'
        title:          'Modify Your EMMA User Account'
        tooltip:        'See or change details about your EMMA user account'

      # =======================================================================

      update:
        <<:             *EDIT_ACTION

      # =======================================================================

      delete:           &DELETE_ACTION
        label:          'Remove User'
        title:          'Remove EMMA User Account %{name}'
        tooltip:        'Remove an account from the set of active EMMA users'
        description_html:
          >-
          <p>
            Remove the selected account from the set of active EMMA users.
          </p>
          <p>
            (Information about the user in conjunction with EMMA submissions
            will be retained.)
          </p>

        term:
          action:       'remove'
          actioned:     'removed'

        submit:
          <<:           *GENERIC_SUBMIT
          label:        'Delete'
          if_enabled:
            tooltip:    'Remove this EMMA user account'

        cancel:
          <<:           *GENERIC_CANCEL
          if_enabled:
            tooltip:    'Keep this EMMA user account'

        success:        'Removed EMMA user account %{name}'
        failure:        'Could not remove EMMA user account: %{error}'

        role:           manager
        _endpoint:      true

      # =======================================================================

      delete_select:
        <<:             *DELETE_ACTION
        title:          'Remove an EMMA User Account'

      # =======================================================================

      destroy:
        <<:             *DELETE_ACTION

      # =======================================================================
