# Access search call instances.
#
# @see SearchCallDecorator
# @see SearchCallsDecorator
# @see file:app/views/search_call/**
#
class SearchCallController < ApplicationController
  include UserConcern

  include ParamsConcern

  include SessionConcern

  include RunStateConcern

  include PaginationConcern

  include SerializationConcern

  include SearchCallConcern

  # :nocov:
  #include AbstractController::Callbacks

  # Initially extend table with a column for each JSON sub-field.
  #
  # @type [Boolean]
  #
  EXPAND_JSON: bool

  attr_reader page:     Paginator
  attr_reader extended: bool
  attr_reader list:     ActiveRecord::Result | ActiveRecord::Relation
  attr_reader item:     SearchCall | nil

  # == GET /search_call?[expand=TRUE&like=PATTERN&field=MATCH&...]
  #
  # List searches.
  #
  # @see #search_call_index_path      Route helper
  # @see SearchCallConcern#get_search_calls
  # @see SearchCall#extended_table
  #
  def index: () -> void

  # == GET /search_call/:id
  #
  # Display details of a search.
  #
  # @see #search_call_path            Route helper
  # @see SearchCall#find
  #
  def show: () -> void

  # Response values for de-serializing the index page to JSON or XML.
  #
  # @param [Search::Message::SearchRecordList,nil] list
  # @param [Hash]                                  opt
  #
  # @return [Hash{Symbol=>Hash}]
  #
  def index_values: (?(Search::Message::SearchRecordList|nil) list, **untyped opt) -> symHash

  # Response values for de-serializing the show page to JSON or XML.
  #
  # @param [SearchCall, Hash] item
  # @param [Hash]             opt
  #
  # @return [Hash{Symbol=>Hash}]
  #
  def show_values: (?(SearchCall|anyHash|nil) item, **untyped opt) -> symHash
end
